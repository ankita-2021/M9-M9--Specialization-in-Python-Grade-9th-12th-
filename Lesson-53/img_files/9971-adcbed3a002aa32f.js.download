!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="b8ece9b0-9025-4fda-ab70-3f291757bf74",e._sentryDebugIdIdentifier="sentry-dbid-b8ece9b0-9025-4fda-ab70-3f291757bf74")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"f78dcecc"},(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9971],{7423:(e,n,t)=>{"use strict";t.d(n,{uJ:()=>y,jQ:()=>S});var r=t(17844),i=t(12584),a=t(41114),o=t(54744);function s(){var e=(0,i._)(["\n  fragment AiProviderCurrentUser on CurrentUser {\n    id\n    timeCreated\n  }\n"]);return s=function(){return e},e}var l=(0,a.J1)(s()),c=t(62356),u=t(78864);function d(){var e=(0,i._)(["\n  fragment StartWithAiOrgMetadata on Org {\n    id\n    name\n  }\n"]);return d=function(){return e},e}function p(){var e=(0,i._)(["\n  fragment StartWithAiUsageBudget on UsageBasedBillingBudget {\n    id\n    hasReachedBudget\n  }\n"]);return p=function(){return e},e}function g(){var e=(0,i._)(["\n  fragment StartWithAiOrgUsageLimitAuthorization on OrgAuthorizations {\n    editUsageLimit {\n      isAuthorized\n      message\n    }\n  }\n"]);return g=function(){return e},e}function m(){var e=(0,i._)(["\n  query StartWithAi {\n    currentUser {\n      id\n      username\n      firstName\n      email\n      isVerified\n      ...AiProviderCurrentUser\n      ...ReplOwnerCurrentUser\n    }\n  }\n  ","\n  ","\n"]);return m=function(){return e},e}function h(){var e=(0,i._)(["\n  query StartWithAiUsageLimits($orgId: String) {\n    currentUser {\n      id\n      usageBasedBillingBudget {\n        __typename\n        ... on UsageBasedBillingBudget {\n          ...StartWithAiUsageBudget\n        }\n        ... on Error {\n          message\n        }\n      }\n      usageBasedBillingAlerts {\n        ...EditUsageBasedBillingAlertsFormInitialConfig\n      }\n      org(orgId: $orgId) {\n        __typename\n        ... on Org {\n          ...StartWithAiOrgMetadata\n          authorizations {\n            ...StartWithAiOrgUsageLimitAuthorization\n          }\n          groups(input: { types: [system_viewers] }) {\n            ... on OrgGroupConnection {\n              items {\n                id\n                type\n                isMember\n              }\n            }\n          }\n          usageBasedBillingBudget {\n            __typename\n            ... on UsageBasedBillingBudget {\n              ...StartWithAiUsageBudget\n            }\n            ... on Error {\n              message\n            }\n          }\n          usageBasedBillingAlerts {\n            ...EditUsageBasedBillingAlertsFormInitialConfig\n          }\n        }\n        ... on Error {\n          message\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}var f={},v=(0,a.J1)(d()),w=(0,a.J1)(p()),b=(0,a.J1)(g()),A=(0,a.J1)(m(),l,u.nM);function y(e){var n=(0,r._)({},f,e);return o.I(A,n)}var _=(0,a.J1)(h(),w,c.B9,v,b);function S(e){var n=(0,r._)({},f,e);return o.I(_,n)}},8397:(e,n,t)=>{"use strict";t.d(n,{h:()=>u});var r=t(17844),i=t(12584),a=t(41114),o=t(54744);function s(){var e=(0,i._)(["\n  query IsUBBBanned($orgId: String) {\n    currentUser {\n      id\n      isUBBBanned\n      org(orgId: $orgId) {\n        ... on Org {\n          id\n          isUBBBanned\n        }\n      }\n    }\n  }\n"]);return s=function(){return e},e}var l={},c=(0,a.J1)(s());function u(e){var n,t,i,a,s,u,d=(s={variables:{orgId:e.orgId}},u=(0,r._)({},l,s),o.I(c,u)),p=d.data,g=d.loading,m=d.refetch;return{loading:g,isUBBBanned:(null==p||null==(n=p.currentUser)?void 0:n.org.__typename)==="Org"?null==p||null==(i=p.currentUser)||null==(t=i.org)?void 0:t.isUBBBanned:null==p||null==(a=p.currentUser)?void 0:a.isUBBBanned,refetchBanStatus:m}}},11626:(e,n,t)=>{"use strict";t.d(n,{F:()=>c,H:()=>u});var r=t(83213),i=t(31369),a=t(49374),o=t(23107),s=t(8397),l=t(30899),c=function(e){return e.AgentKillswitch="Agent killswitch",e.ErrorDeterminingBudget="Error determining budget",e.BudgetExceeded="Budget exceeded",e.EmailVerificationRequired="Email verification required",e.FreeAgentUsageQuotaExceeded="Free Agent usage quota exceeded",e.FreeReplLimitExceeded="Free Repl limit exceeded",e.FreemiumTemporarilyUnavailable="Freemium temporarily unavailable",e.NoReplCreationPermissions="No Repl creation permissions",e.UserUBBBanned="User is UBB Banned",e.RequiresPaymentMethod="Requires payment method",e.PaymentDelinquent="Failed payment. Update payment method to continue using Agent.",e}({});function u(e,n){var t=(0,l.i)(),c=t.agentUsage,u=t.loading,d="Org"===e.__typename?e.id:void 0,p=(0,i.a)(e),g=(0,s.h)({orgId:d}),m=g.loading,h=g.isUBBBanned,f=(0,a.g)(),v=(0,o._P)({controlName:"flag-killswitch-agent"}),w=(0,o._P)({controlName:"flag-freemium-ai-load-shedder"}),b="CurrentUser"===e.__typename&&!e.isSubscribed,A="Org"===e.__typename&&!e.authorizations.createPrivateRepl.isAuthorized&&!e.authorizations.createPublicRepl.isAuthorized;return!p||u||"loading"===n.status||"loading"===f.type||m?{loading:!0,hasAccess:!1}:v?{loading:!1,hasAccess:!1,accessDeniedReason:"Agent killswitch"}:h?{loading:!1,hasAccess:!1,accessDeniedReason:"User is UBB Banned"}:"error"===n.status?{loading:!1,hasAccess:!1,accessDeniedReason:"Error determining budget"}:p.paidAgent.isAuthorized||p.paidAgent.code!==r.JBK.InsufficientBudget?p.paidAgent.isAuthorized||p.freeAgent.isAuthorized||!A?p.freeAgent.isAuthorized||p.freeAgent.code!==r.JBK.RequiresEmailVerification?!b||(null==c?void 0:c.isUnderQuota)?"data"===f.type&&f.shouldBlockReplForm?{loading:!1,hasAccess:!1,accessDeniedReason:"Free Repl limit exceeded"}:w&&b?{loading:!1,hasAccess:!1,accessDeniedReason:"Freemium temporarily unavailable"}:p.paidAgent.code===r.JBK.RequiresPaymentMethod?{loading:!1,hasAccess:!1,accessDeniedReason:"Requires payment method"}:p.paidAgent.code===r.JBK.PaymentDelinquent?{loading:!1,hasAccess:!1,accessDeniedReason:"Failed payment. Update payment method to continue using Agent."}:{loading:!1,hasAccess:!0}:{loading:!1,hasAccess:!1,accessDeniedReason:"Free Agent usage quota exceeded"}:{loading:!1,hasAccess:!1,accessDeniedReason:"Email verification required"}:{loading:!1,hasAccess:!1,accessDeniedReason:"No Repl creation permissions"}:{loading:!1,hasAccess:!1,accessDeniedReason:"Budget exceeded"}}},20270:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),i=t(93629),a=t(57034),o=t(46586);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M9 2.25a.75.75 0 0 1 .712.513L15 18.628l2.288-6.865A.75.75 0 0 1 18 11.25h4a.75.75 0 0 1 0 1.5h-3.46l-2.828 8.487a.75.75 0 0 1-1.423 0L9 5.372l-2.288 6.865A.75.75 0 0 1 6 12.75H2a.75.75 0 0 1 0-1.5h3.46l2.828-8.487A.75.75 0 0 1 9 2.25Z",clipRule:"evenodd"})}))}},26522:(e,n,t)=>{"use strict";t.d(n,{A:()=>I});var r=t(17844),i=t(93629),a=t(12694),o=t(86105),s=t(57034),l=t(21462),c=t(39695),u=t(19531),d=t(35562),p=t(43031),g=t(92932),m=t(31142),h=t(91963),f=t(39206),v=t(79890),w=t(18304),b=t(17376),A=t(83020),y=t(60421),_=t(85743),S=t(29351),Y=t(23241),U=_.D.input,x=_.D.div,B=_.D.li,k=(0,w.x)({main:[b.b.filled,A.wp.p(8),A.wp.pr(32),{color:v.LU.foregroundDefault,border:"0 none",outline:"0 none",fontSize:v.LU.fontSizeDefault,lineHeight:"16px",display:"block",width:"100%","::placeholder":{color:v.LU.foregroundDimmer},":not([disabled])":{cursor:"text"}}],comboBox:[{position:"relative"}],comboBoxWrapper:[{position:"relative"}],selectedItemIcon:[A.wp.center,{position:"absolute",top:0,left:0,height:"100%"}],searchIconWrapper:[A.wp.center,A.wp.px(8),{position:"absolute",top:0,right:0,height:"100%"}],comboBox2:[{position:"relative"}],loadingIconWrapper:[A.wp.center,A.wp.py(32)],noReplsFoundWrapper:[A.wp.center,A.wp.py(32)]});function I(e){var n,t=e.id,v=e.className,w=e.disabled,b=e.filter,I=e.manualSelect,E=e.excludePrivate,C=e.excludeMultiplayer,D=e.onSelect,R=e.selectedIconOverride,T=e.showComboBox,F=(0,a._)((0,l.useState)([]),2),P=F[0],O=F[1],L=(0,a._)((0,l.useState)(""),2),W=L[0],N=L[1],M=(0,l.useRef)(null),z=b?P.filter(b):P,q=function(e){return e?e.owner?"".concat(e.owner.username,"/").concat(e.title):e.title:""},H=(0,c.Bp)({items:z,initialHighlightedIndex:I?-1:0,itemToString:q});(0,l.useEffect)(function(){return N(H.inputValue)},[H.inputValue]);var K=(0,g.A)(W,100),$=(0,u.Ez)({variables:{search:K,excludePrivate:E,excludeMultiplayer:C},onCompleted:function(e){if(!e.currentUser)throw Error("Expected currentUser");if(!e.currentUser.replSearch)return void O([]);O(e.currentUser.replSearch.reduce(function(e,n){return n?(0,o._)(e).concat([n]):e},[]))}}).loading,J=(0,m.A)(D);(0,l.useEffect)(function(){var e;H.selectedItem&&(null==(e=M.current)||e.blur(),J.current(H.selectedItem))},[H.selectedItem,J]);var V=(null==(n=H.selectedItem)?void 0:n.iconUrl)&&H.inputValue?(0,s.Y)(_.S,{css:k.selectedItemIcon,px:8,children:R||(0,s.Y)(f.Ay,{alt:H.selectedItem.title,iconUrl:H.selectedItem.iconUrl,size:16})}):null;return(0,s.FD)(_.S,{css:k.comboBoxWrapper,className:v,children:[(0,s.FD)(x,(0,i._)((0,r._)({},H.getComboboxProps()),{css:k.comboBox,children:[V,(0,s.Y)(U,(0,r._)({css:k.main,style:V&&A.wp.pl(32)},H.getInputProps({ref:M,id:t,placeholder:"Search for an App",onFocus:void 0===T||T?function(e){H.selectedItem&&(e.preventDefault(),e.currentTarget.select(),N("")),H.openMenu()}:void 0}))),(0,s.Y)(_.S,{css:k.searchIconWrapper,children:(0,s.Y)(Y.A,{})})]})),(0,s.Y)(x,(0,i._)((0,r._)({},H.getMenuProps()),{css:k.comboBox2,children:H.isOpen&&!w?(0,s.FD)(d.A,{children:[$?(0,s.Y)(B,{css:k.loadingIconWrapper,children:(0,s.Y)(S.A,{})}):null,z.length||$?null:(0,s.Y)(B,{css:k.noReplsFoundWrapper,children:(0,s.FD)(y.EY,{color:"dimmer",variant:"small",multiline:!1,children:["No ",P.length>0?"more ":null,"Apps found"]})}),z.map(function(e,n){return(0,s.Y)(B,(0,i._)((0,r._)({},H.getItemProps({item:e,index:n})),{children:(0,s.Y)(p.A,{taller:!0,filter:W,title:q(e),subtitle:(0,h.K)(e.timeUpdated),selected:H.selectedItem===e,highlighted:H.highlightedIndex===n,icon:e.iconUrl?(0,s.Y)(f.Ay,{iconUrl:e.iconUrl,alt:e.title,size:16}):void 0})}),e.id)})]}):null}))]})}},31369:(e,n,t)=>{"use strict";t.d(n,{a:()=>o,y:()=>a});var r=t(7423),i=t(41545);function a(){var e,n,t,a,o,s,l,c,u,d,p=(0,i.ET)().orgId,g=void 0!==p,m=(0,r.jQ)({variables:{orgId:p},context:{noBatch:!0},ssr:!1}),h=m.data,f=m.loading,v=m.error;if(f)return{status:"loading"};var w=!0;g?(e=null!=h&&!!h.currentUser&&"Org"===h.currentUser.org.__typename&&(null==(a=h.currentUser.org.usageBasedBillingBudget)?void 0:a.__typename)==="UsageBasedBillingBudget"&&h.currentUser.org.usageBasedBillingBudget.hasReachedBudget,w=null!=h&&!!h.currentUser&&"Org"===h.currentUser.org.__typename&&(null==(o=h.currentUser.org.authorizations)?void 0:o.__typename)==="OrgAuthorizations"&&h.currentUser.org.authorizations.editUsageLimit.isAuthorized,n=(null==h||null==(s=h.currentUser)?void 0:s.org.__typename)==="Org"?h.currentUser.org:void 0,t=(null==h||null==(l=h.currentUser)?void 0:l.org.__typename)==="Org"&&(null==(c=h.currentUser.org.usageBasedBillingAlerts)?void 0:c.__typename)==="UsageBasedBillingAlertsConfig"?h.currentUser.org.usageBasedBillingAlerts:void 0):(e=null!=h&&!!h.currentUser&&(null==(u=h.currentUser.usageBasedBillingBudget)?void 0:u.__typename)==="UsageBasedBillingBudget"&&h.currentUser.usageBasedBillingBudget.hasReachedBudget,t=(null==h||null==(d=h.currentUser)?void 0:d.usageBasedBillingAlerts.__typename)==="UsageBasedBillingAlertsConfig"?h.currentUser.usageBasedBillingAlerts:void 0);var b=v?"Failed to load usage data":void 0;return b?{status:"error",error:b}:{status:"success",hasReachedBudget:e,canEditUsageLimit:w,org:n,usageBasedBillingAlerts:t}}function o(e){return"CurrentUser"===e.__typename?"OrgAuthorizations"===e.personalOrgAuthorizations.__typename?e.personalOrgAuthorizations:void 0:"Org"===e.__typename?e.authorizations:void 0}},35562:(e,n,t)=>{"use strict";t.d(n,{A:()=>d});var r=t(17844),i=t(57034),a=t(21462),o=t(79890),s=t(83020),l=t(19789);function c(e){var n=e.children,t=e.className,r=e.innerRef;return(0,i.Y)(l.ui,{className:t,tag:"ul",elevated:!0,innerRef:r,css:[{zIndex:999,maxHeight:300,position:"absolute",overflowY:"auto",width:"100%",left:0,top:o.LU.space8,border:"1px solid",borderColor:o.LU.outlineDimmest,listStyle:"none"},s.wp.borderRadius(8)],children:n})}var u=(0,a.forwardRef)(function(e,n){return(0,i.Y)(c,(0,r._)({innerRef:n},e))});u.displayName="Menu";let d=u},47026:(e,n,t)=>{"use strict";t.d(n,{M:()=>F});var r=t(29935),i=t(53847),a=t(17844),o=t(93629),s=t(12694),l=t(82643),c=t(27338),u=t(21462),d=t(932),p=t(47130),g=t(90629),m=t(12584),h=t(41114),f=t(39590);function v(){var e=(0,m._)(["\n  mutation GenerateAgentReplIcon($prompt: String!, $replId: String!) {\n    generateReplIcon(input: { prompt: $prompt, replId: $replId }) {\n      ... on GenerateReplIconResult {\n        repl {\n          id\n          iconUrl\n        }\n      }\n    }\n  }\n"]);return v=function(){return e},e}var w={},b=(0,h.J1)(v()),A=t(41204),y=t(23107),_=t(84885),S=t(92026),Y=t(17421),U=t(10642),x=t(87083),B=t(42236),k=t(75804),I=t(59388),E=t(99980),C=t(66098),D=t(78224),R=t(49784),T=t(47925);function F(e){var n,t,m,h,v,F,P,O=e.currentUser,L=(0,s._)((0,u.useState)("idle"),2),W=L[0],N=L[1],M=(0,x.pE)("folderId","string"),z=(0,Y.m6)(),q=(0,_.A)().showError,H=(0,s._)((0,d.O3)(),1)[0],K=(t=(n=(0,d.eX)()).data,m=n.error,h=n.loading,m?{loading:!1,currentUser:null,errorCode:500}:(null==t?void 0:t.currentUser)?{loading:!1,currentUser:t.currentUser,errorCode:null}:h?{loading:!0,currentUser:null,errorCode:null}:{loading:!1,currentUser:null,errorCode:403}).currentUser,$=(0,E.L)(),J=(0,c.useRouter)(),V=(0,B.A)(),j=(0,y._P)({controlName:"flag-killswitch-agent"}),Z=(0,y._P)({controlName:"flag-agent-onboarding-ws"}),G=function(e){N("idle"),q(e.message),(0,p.B)(e)},Q=(0,s._)((0,u.useState)("disconnected"),2),X=Q[0],ee=Q[1],en=(0,A.T)({currentUserUsername:O.username,currentUserEmail:O.email,currentUserTimeCreated:O.timeCreated,updatePromptConnectionStatus:function(e){ee(e)}}),et=(P=(0,s._)((v={onError:function(e){g.Cp(e)}},F=(0,a._)({},w,v),f.n(b,F)),1)[0],function(e){var n=e.prompt,t=e.attachments,r=e.replId;P({variables:{prompt:n+(t.length>0?"\n\nWith attachments: ".concat(t.map(function(e){return e.path}).join(", ")):""),replId:r}})});return{createAgentRepl:function(e){return(0,r._)(function(e){var n,t,s,c,u,d,p,g,m,h,f,v,w,b,A,y,_;return(0,l.YH)(this,function(Y){switch(Y.label){case 0:if(n=e.prompt,t=e.attachments,s=e.requestedStackBlueprint,c=e.isPrivate,u=e.teamId,d=e.orgId,p=e.customStackReplId,g=e.isExpertMode,j)return q("This feature is currently unavailable."),N("idle"),[2];return(0,U.O7)(),[4,(0,S.u9)()];case 1:return Y.sent(),N("creating_repl"),m=!p&&!g,[4,H({variables:{input:{aiPromptText:n,aiPromptAttachmentPaths:t.map(function(e){return e.path}),folderId:M,isPrivate:c,teamId:u,orgId:d,originId:p,detachFromProject:!!p,isInPlanningPhase:m,isExpertMode:g}}})];case 2:if((h=Y.sent()).errors)return G(Error(h.errors.map(function(e){return e.message}).join(", "))),[2];if(!h.data)return G(Error("Expected data from createRepl graphql mutation")),[2];if("message"in h.data.createRepl)return G(Error(h.data.createRepl.message)),[2];if(f=h.data.createRepl,et({prompt:n,attachments:t,replId:f.id}),!(v=t&&t.length>0))return[3,4];return w=(0,I.O)({repl:f,currentUser:K}),(b=(0,k.Ay)({onUnrecoverableError:function(e){N("idle"),q(e.message)}})).connect({context:w,getMinimumRetryDelayMs:$}),N("configuring_repl"),[4,function(e){return(0,r._)(function(e){var n,t,r,i,a;return(0,l.YH)(this,function(o){switch(o.label){case 0:if(n=e.hasAttachments,t=e.container,r=e.attachments,i=e.handleError,!n)return[2];return a=(0,C.A)({container:t}),[4,(0,D.Zn)({parentPath:R.Ls,files:r.map(function(e){return e.file}),fs:a,onError:function(e){i(Error("Error uploading ".concat(e.path,": ").concat(e.error)))}})];case 1:return o.sent(),[2]}})}).apply(this,arguments)}({hasAttachments:v,attachments:t,container:b,handleError:G})];case 3:Y.sent(),Y.label=4;case 4:return Y.trys.push([4,6,,7]),[4,en({prompt:n,uploadedFiles:t.map(function(e){return{path:e.path,mimeType:e.file.type}}),requestedStackBlueprint:s,replId:f.id,currentUserId:O.id,orgId:d,customStackReplId:p})];case 5:return Y.sent(),[3,7];case 6:return A=Y.sent(),G((0,i._)(A,Error)?A:Error(String(A))),[2];case 7:if(N("opening_repl"),y={enterInAgentMode:!0,agentOnboarding:(null==K?void 0:K.replCount.__typename)==="ReplCount"&&(null==K?void 0:K.replCount.count)===0&&Z,enterInExpertMode:g},_=(0,T.q1)(f,y),!z)return[3,8];return window.location.href=(0,T.cY)(f,y),[3,10];case 8:return[4,J.push((0,o._)((0,a._)({},_.href),{pathname:V}),_.as)];case 9:Y.sent(),Y.label=10;case 10:return N("idle"),[2]}})}).apply(this,arguments)},status:W,agentPromptRiverConnectionStatus:X}}},47130:(e,n,t)=>{"use strict";t.d(n,{B:()=>i});var r=t(90629);function i(e,n){return r.v4(function(t){t.setTag("start-with-ai",!0),n&&t.setExtras(n),r.Cp(e)}),e}},50250:(e,n,t)=>{"use strict";function r(e){var n=e.createReplStatus;return"creating_repl"===n?"Creating App…":"configuring_repl"===n?"Configuring App…":"opening_repl"===n?"Opening App…":"Start building"}t.d(n,{A:()=>r})},53482:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(17844),i=t(93629),a=t(57034),o=t(46586);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M12 1.75A8.25 8.25 0 0 0 3.75 10c0 3.198 2.074 6.266 4.294 8.61A29.677 29.677 0 0 0 12 22.082a29.672 29.672 0 0 0 3.956-3.473c2.22-2.344 4.294-5.411 4.294-8.61A8.25 8.25 0 0 0 12 1.75Zm-.528 21.798-.298-.211a31.168 31.168 0 0 1-4.219-3.696C4.676 17.234 2.25 13.8 2.25 10a9.75 9.75 0 0 1 19.5 0c0 3.802-2.426 7.234-4.706 9.64a31.173 31.173 0 0 1-4.218 3.697c-.127.091-.228.162-.298.21-.16.11-.328.203-.528.203s-.37-.093-.528-.203ZM12 7.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM8.25 10a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0Z",clipRule:"evenodd"})}))}},69481:e=>{e.exports={root:"CustomAppThemeSelect_root__vB8hA",label:"CustomAppThemeSelect_label__p3Cp1",selectButton:"CustomAppThemeSelect_selectButton__Wx5tX",bold:"CustomAppThemeSelect_bold__zcpDs",popoverSurface:"CustomAppThemeSelect_popoverSurface__SUDRv",createItem:"CustomAppThemeSelect_createItem__WKuST",item:"CustomAppThemeSelect_item__eFY6T",itemSelected:"CustomAppThemeSelect_itemSelected__OcTsz",itemContent:"CustomAppThemeSelect_itemContent__eW_y5",chevronWrapper:"CustomAppThemeSelect_chevronWrapper__L7s8n",buttons:"CustomAppThemeSelect_buttons__VAHBV"}},83979:(e,n,t)=>{"use strict";t.d(n,{U:()=>$});var r,i=t(29935),a=t(86105),o=t(82643),s=t(57034),l=t(21462),c=t(5942),u=t(18304),d=t(83020),p=t(92152),g=(0,u.x)({button:[d.wp.borderRadius(16)]});function m(e){var n=e.item,t=e.onSelect;return(0,s.Y)(p.$n,{css:g.button,iconLeft:n.icon,text:n.title,onClick:function(){t(n),(0,c.u4)(c.AZ.START_WITH_AI_USED,{action:"sample_prompt_selected",prompt:n.prompt,title:n.title})}})}var h=t(83846),f=t(12694),v=t(81843),w=t(79890),b=t(41379),A=t(85743),y=t(87089),_=t(86063),S=[d.wp.position.absolute,d.wp.zIndex(2),d.wp.top("50%"),{transform:"translateY(-50%)"},{backgroundColor:w.LU.backgroundRoot,boxShadow:"0 0 8px ".concat(w.LU.backgroundRoot)}],Y=(0,a._)(S).concat([{left:0}]),U=(0,a._)(S).concat([{right:0}]),x=(0,u.x)({scrollAreaRoot:[d.wp.flex.row,d.wp.align.center,d.wp.justify.center,d.wp.overflowX("hidden"),d.wp.overflowY("hidden"),{"--scrollbar-size":"0px"},d.wp.position.relative,{'&[data-left-shadow="true"]::before, &[data-right-shadow="true"]::after':{content:'""',position:"absolute",top:0,bottom:0,width:"80px",zIndex:1,pointerEvents:"none"},'&[data-left-shadow="true"]::before':{left:0,background:"linear-gradient(to right, ".concat(w.LU.backgroundRoot," ").concat(40,"px, transparent)")},'&[data-right-shadow="true"]::after':{right:0,background:"linear-gradient(to left, ".concat(w.LU.backgroundRoot," ").concat(40,"px, transparent)")}}],scrollAreaViewport:[d.wp.height("100%"),{"& > div":{height:"100%",width:"max-content",display:"block !important"}}],scrollAreaScrollbar:[d.wp.display.none],scrollAreaThumb:[d.wp.flex.grow(1),d.wp.backgroundColor.outlineDimmest,d.wp.borderRadius(4),d.wp.position.relative,{"&::before":{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",minWidth:"44px",minHeight:"44px"}}],container:[d.wp.position.relative,d.wp.width("100%")],wrapper:[d.wp.height("fit-content"),d.wp.px(2),d.wp.rowWithGap(12),d.wp.flex.wrap,d.wp.align.center,(r={},(0,h._)(r,"--color",w.LU.foregroundDimmer),(0,h._)(r,"&:hover, &:focus-within",(0,h._)({},"--color",w.LU.foregroundDefault)),(0,h._)(r,"& *",{transition:"color 0.2s ease-in-out"}),r),d.wp.position.relative]});function B(e){var n=e.children,t=(0,f._)((0,l.useState)(!1),2),r=t[0],i=t[1],a=(0,f._)((0,l.useState)(!1),2),o=a[0],c=a[1],u=(0,l.useRef)(null),d=(0,l.useRef)(null),p=(0,l.useCallback)(function(){var e=d.current;if(e){var n=e.scrollLeft,t=e.scrollWidth,r=e.clientWidth;i(n>0),c(n<t-r-1)}},[]),g=(0,l.useCallback)(function(){var e=d.current;e&&e.scrollBy({left:-200,behavior:"smooth"})},[]),m=(0,l.useCallback)(function(){var e=d.current;e&&e.scrollBy({left:200,behavior:"smooth"})},[]);return(0,l.useEffect)(function(){var e=d.current;if(e)return p(),e.addEventListener("scroll",p),window.addEventListener("resize",p),function(){e.removeEventListener("scroll",p),window.removeEventListener("resize",p)}},[p]),(0,s.FD)("div",{css:x.container,children:[r?(0,s.Y)(b.K0,{onClick:g,css:Y,"aria-label":"Previous",alt:"Previous",size:28,children:(0,s.Y)(y.A,{})}):null,o?(0,s.Y)(b.K0,{onClick:m,css:U,"aria-label":"Next",alt:"Next",size:28,children:(0,s.Y)(_.A,{})}):null,(0,s.FD)(v.bL,{css:x.scrollAreaRoot,ref:u,"data-left-shadow":r,"data-right-shadow":o,children:[(0,s.Y)(v.LM,{css:x.scrollAreaViewport,ref:d,children:(0,s.Y)(A.S,{css:x.wrapper,children:n})}),(0,s.Y)(v.Ze,{css:x.scrollAreaScrollbar,orientation:"horizontal",children:(0,s.Y)(v.zi,{css:x.scrollAreaThumb})})]})]})}var k=t(20270),I=t(17844),E=t(93629),C=t(46586),D=t(57506),R=t(51011),T=t(10319),F=t(62017),P=t(84241),O=t(29904),L=t(14669),W=t(68129),N=t(43128),M=t(53482),z=t(23241),q=[{title:"Local landmarks map",prompt:"Make an app that displays a map of local landmarks based on the current viewable area of the map. Use Wikipedia to get the landmarks. Add custom markers with hover effects and a sleek sidebar showing landmark details.",icon:(0,s.Y)(M.A,{})},{title:"Stock analysis",prompt:"Make an app that lets me input a stock symbol and get a summary of financial data. Include a table and chart tracking the stock price and other key financial information. Use data from Yahoo Finance and let me download the table data as a CSV. Design it with a dark theme and interactive charts.",icon:(0,s.Y)(function(e){return(0,s.Y)(C.Ay,(0,E._)((0,I._)({},e),{children:(0,s.Y)("path",{fillRule:"evenodd",d:"M12 3.25a.75.75 0 0 1 .75.75v16a.75.75 0 0 1-1.5 0V4a.75.75 0 0 1 .75-.75Zm6 6a.75.75 0 0 1 .75.75v10a.75.75 0 0 1-1.5 0V10a.75.75 0 0 1 .75-.75Zm-12 4a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}))},{})},{title:"Waitlist website",prompt:"Make a waitlist site for my startup that collects emails and full names from users. Include some basic information about my startup and make the design modern and professional. Use a postgres database to store the registrations. Design it with a beautiful hero section and elegant glass-like elements.",icon:(0,s.Y)(N.A,{})},{title:"AI chat",prompt:"Make an AI chat application. Style it with modern chat bubbles, typing indicators, and a clean gradient background with a floating message input.",icon:(0,s.Y)(R.A,{})},{title:"Book scanner",prompt:"Make an app that lets me upload an image of my bookshelf and get a list of all the books in the picture along with some details. Design it with a drag-and-drop upload area and display results in beautiful cards with book covers.",icon:(0,s.Y)(D.A,{})},{title:"Link in bio",prompt:"Make a link in bio app that presents all my social accounts in an easy, intuitive, and aesthetic interface. Use a random image for a profile picture placeholder for now. Add hover effects on buttons, a modern card layout, and customizable color themes.",icon:(0,s.Y)(W.A,{})},{title:"Statistical significance calculator",prompt:"Make a web app that lets me input information from an A/B test and tells me whether it's statistically significant. Design it with modern form styling, color-coded results (green for significant, red for not significant), and clear result displays.",icon:(0,s.Y)(P.A,{})},{title:"Personal blog",prompt:"Make a modern personal blog website with a minimalist design and homepage displaying recent posts in a grid layout. Add a text editor for writing posts that supports markdown formatting and image uploads. Each post should have its own page with a comments section and social sharing buttons.",icon:(0,s.Y)(F.A,{})},{title:"Workout tracker",prompt:"Make an app that helps users stay motivated and track their workout progress. Create a clean, simple interface where users can log their exercises by searching or selecting from common workout types like cardio, strength training, and yoga. The app should display workout history in a calendar view and show progress charts for key metrics like weight lifted, running pace, or workout frequency. Design it to work smoothly on both phones and computers.",icon:(0,s.Y)(k.A,{})},{title:"Meditation timer",prompt:"Make a peaceful meditation app with customizable ambient sounds, interval bells, and session tracking. Include guided breathing animations and a serene, minimalist design.",icon:(0,s.Y)(L.A,{})},{title:"Smart meal planner",prompt:"Make a helpful cooking companion that turns your available ingredients into delicious meal ideas. Enter what's in your kitchen and get personalized recipes that use what you have, reduce food waste, and make weeknight cooking easier. Include options to save favorite recipes and generate shopping lists for missing ingredients.",icon:(0,s.Y)(T.A,{})},{title:"Gym buddy finder",prompt:"Make a web app that helps gym-goers find new friends to train with. Create profiles with fitness goals and preferences, match users based on location and workout types, and include a messaging system. Design it with vibrant colors and an engaging social interface.",icon:(0,s.Y)(z.A,{})},{title:"Home renovation marketplace",prompt:"Make an app that helps home owners and property managers connect with contractors to place bids on home renovation projects. Include project posting, contractor profiles, bid management, and messaging. Design it with a professional, trustworthy interface.",icon:(0,s.Y)(O.A,{})}],H=(0,t(42793).i7)({from:{opacity:0},to:{opacity:1}}),K=(0,u.x)({emptyContainer:[d.wp.minHeight(32)],container:[{animation:"".concat(H," 400ms ease-out")}]});function $(e){var n=e.hasCreationAccess,t=e.onSelected,r=(0,l.useMemo)(function(){return(0,a._)(q).sort(function(){return .5-Math.random()}).slice(0,3)},[]);return n?(0,s.Y)(A.S,{css:K.container,grow:!0,shrink:!0,children:(0,s.Y)(B,{children:r.map(function(e){return(0,s.Y)(m,{item:e,onSelect:function(e){return(0,i._)(function(){return(0,o.YH)(this,function(n){return[2,(0,i._)(function(){return(0,o.YH)(this,function(n){return t(e.prompt),[2]})})()]})})()}},e.title)})})}):(0,s.Y)(A.S,{css:K.emptyContainer})}},86471:(e,n,t)=>{"use strict";t.d(n,{Q:()=>ea});var r=t(12694),i=t(57034),a=t(27338),o=t(21462),s=t(83213),l=t(16583),c=t(43355),u=t(59271),d=t(45464),p=t(32973),g=t(18304),m=t(83020),h=t(92152),f=t(82368),v=t(60421),w=t(97877),b=t(85743),A=t(29351),y=t(85454),_=function(e){var n=e.owner,t=e.currentUserId,r="Org"===n.__typename;return"Org"===n.__typename&&"OrgGroupConnection"===n.groups.__typename&&void 0!==n.groups.items.find(function(e){return"system_viewers"===e.type&&e.isMember})?(0,i.Y)(Y,{orgId:r?n.id:"",orgName:n.name,currentUserId:t}):(0,i.Y)(S,{})},S=function(){return(0,i.Y)(b.S,{children:(0,i.Y)(f.N,{colorway:"warning",text:"You do not have permission to create an app"})})},Y=function(e){var n,t=e.orgId,a=e.orgName,s=e.currentUserId,l=(0,r._)((0,o.useState)(!1),2),c=l[0],u=l[1],g=(0,d.N7)({variables:{orgId:t,upgradeRequestInput:{userId:s,status:"PENDING"}}}),m=g.data,_=g.loading,S=g.error,Y=(null==m||null==(n=m.currentUser)?void 0:n.org.__typename)==="Org"&&null!==m.currentUser.org.upgradeRequest;return _?(0,i.Y)(b.S,{css:U.loadingAndErrorWrapper,children:(0,i.Y)(A.A,{})}):S?(0,i.Y)(b.S,{css:U.loadingAndErrorWrapper,children:(0,i.Y)(b.S,{children:(0,i.Y)(f.N,{colorway:"red",text:"Something went wrong."})})}):(0,i.FD)(b.S,{css:U.overlayContainer,gap:16,justify:"center",align:"center",children:[(0,i.Y)(y.A,{size:24}),(0,i.Y)(v.EY,{css:U.overlayText,children:"As a viewer you can access apps but you can’t create them. To create apps, you need to request an upgrade to a full seat from your team admin."}),(0,i.Y)(w.m_,{tooltip:"You already have a pending upgrade request. Please wait for your admin to respond.",isDisabled:!Y,children:(0,i.Y)(h.$n,{text:"Request upgrade from admin",isDisabled:Y,variant:"default",colorway:"primary",onClick:function(){return u(!0)}})}),(0,i.Y)(p.A,{isOpen:c,orgId:t,orgName:a,onClose:function(){return u(!1)},onSuccess:function(){return u(!1)}})]})},U=(0,g.x)({loadingAndErrorWrapper:[m.wp.display.flex,m.wp.flex.growAndShrink(1),m.wp.center],overlayContainer:[m.wp.maxWidth("100%")],overlayText:[m.wp.textAlign.center,m.wp.maxWidth(600),m.wp.colWithGap(8)]}),x=t(52942),B=t(84914),k=t(39295),I=t(17844),E=t(12584),C=t(41114),D=t(54744);function R(){var e=(0,E._)(["\n  query AgentInputReachedHardLimit($orgId: String) {\n    currentUser {\n      id\n      usageInterval {\n        ... on UsageInterval {\n          endDate\n        }\n        ... on Error {\n          message\n        }\n      }\n      org(orgId: $orgId) {\n        ... on Org {\n          id\n          usageInterval {\n            ... on UsageInterval {\n              endDate\n            }\n            ... on Error {\n              message\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return R=function(){return e},e}var T={},F=(0,C.J1)(R()),P=t(41805),O=function(e){var n,t,r,a,o,s,l=e.onIncreaseBudget,c=e.canEditUsageLimit,u=e.orgId,d=void 0!==u,p=d&&!c,g=(n={variables:{orgId:u}},t=(0,I._)({},T,n),D.I(F,t)),m=g.data,v=g.loading,w=g.error;return(r=d?(null==m||null==(a=m.currentUser)?void 0:a.org.__typename)==="Org"&&"UsageInterval"===m.currentUser.org.usageInterval.__typename?m.currentUser.org.usageInterval.endDate:"":(null==m||null==(s=m.currentUser)||null==(o=s.usageInterval)?void 0:o.__typename)==="UsageInterval"?m.currentUser.usageInterval.endDate:"",v)?(0,i.Y)(b.S,{css:N.loadingAndErrorWrapper,children:(0,i.Y)(A.A,{})}):w?(0,i.Y)(b.S,{css:N.loadingAndErrorWrapper,children:(0,i.Y)(b.S,{children:(0,i.Y)(f.N,{colorway:"red",text:"Something went wrong."})})}):(0,i.FD)(b.S,{css:N.overlayContainer,gap:16,align:"center",justify:"center",children:[(0,i.FD)(b.S,{css:N.overlayText,children:[(0,i.Y)(L,{isOrg:d}),(0,i.Y)(W,{isOrg:d,isOrgMemberWithoutEditPermission:p,endOfBillingPeriod:r})]}),p?null:(0,i.Y)(h.$n,{text:"Increase usage budget",onClick:l,iconLeft:(0,i.Y)(P.A,{}),colorway:"primary"})]})},L=function(e){var n=e.isOrg;return(0,i.Y)(v.EY,{css:N.overlayTitle,variant:"subheadDefault",children:n?"Your team has hit its monthly usage budget.":"You've hit your monthly usage budget."})},W=function(e){var n=e.isOrg,t=e.isOrgMemberWithoutEditPermission,r=e.endOfBillingPeriod,a=(0,x.A)(r),o=(0,B.A)(a)?" on ".concat((0,k.A)(a,"MMM do, hh:mm aaa")):"";return n?t?(0,i.FD)(v.EY,{variant:"small",children:["To continue using the Agent now, please contact your team admin to request an increase in the usage budget. Otherwise, your usage will reset",o," when the next billing period begins."]}):(0,i.FD)(v.EY,{variant:"small",children:["To continue using the Agent now, increase your budget. Otherwise, your team's usage will reset",o," when the next billing period begins."]}):(0,i.FD)(v.EY,{children:["To continue using the Agent now, increase your budget. Otherwise, your usage will reset",o," when the next billing period begins."]})},N=(0,g.x)({overlayContainer:[m.wp.maxWidth("100%")],overlayText:[m.wp.textAlign.center,m.wp.maxWidth(800),m.wp.colWithGap(8)],overlayTitle:[m.wp.fontWeight.bold],loadingAndErrorWrapper:[m.wp.display.flex,m.wp.flex.growAndShrink(1),m.wp.center,m.wp.minHeight(200)]}),M=t(29935),z=t(82643),q=t(30622),H=t(26955),K=t(98192),$=t(24735),J=t(19789),V=t(8356),j=t(46103),Z=(0,g.x)({ubbBannedContainer:[m.wp.textAlign.center],buttonContainer:[{"@media (max-width: 600px)":{flexDirection:"column"}}]});function G(e){var n,t=e.context,a=(0,r._)((0,o.useState)(!1),2),l=a[0],c=a[1],u="org"===t.type&&(null==(n=t.orgDealContext)?void 0:n.dealType)!==s.bK$.Trial&&(null==t?void 0:t.canEditPaymentMethod)||"user"===t.type,d=(0,H.hb)("org"===t.type?{type:"org",isAdmin:t.isAdmin,isSuspended:t.isSuspended,orgDealContext:t.orgDealContext}:{type:"user",isSuspended:t.isSuspended}),p=d.headingText,g=d.subheadingText;return(0,i.FD)(b.S,{gap:12,align:"center",css:Z.ubbBannedContainer,children:[(0,i.Y)(v.EY,{variant:"subheadDefault",children:p}),(0,i.Y)(v.EY,{children:g}),u?(0,i.Y)(J.ui,{elevated:!0,children:(0,i.FD)(b.S,{row:!0,css:Z.buttonContainer,gap:12,children:[(0,i.Y)(b.S,{gap:8,children:(0,i.Y)(K.v,{iconLeft:(0,i.Y)(j.A,{}),text:"View and pay invoices",href:"org"===t.type?"/orb-customer-portal/org/".concat(t.orgId):"/orb-customer-portal",target:"_blank"})}),(0,i.Y)(b.S,{gap:8,children:(0,i.Y)(h.$n,{iconLeft:(0,i.Y)(V.A,{}),text:"Update payment method",colorway:"primary",onClick:function(){return c(!0)}})})]})}):null,(0,i.Y)($.a,{isOpen:l,onRequestClose:function(){return c(!1)},children:(0,i.Y)(q.k,{onDone:function(){c(!1)},onBack:function(){return(0,M._)(function(){return(0,z.YH)(this,function(e){return[2,c(!1)]})})()}})})]})}var Q=t(11626),X=t(80167),ee=t(41545),en=t(73553),et=t(79785),er=t(13424),ei=t(3076);function ea(e){var n=e.agentAccessDeniedReason,t=e.owner,d=e.usageInfo,p=e.currentUserId,g=(0,r._)((0,o.useState)(!1),2),m=g[0],h=g[1],w=(0,ee.ET)(),A=w.orgRole,y=w.orgDealContext,S=(0,a.useRouter)();return n===Q.F.BudgetExceeded?(0,i.FD)(i.FK,{children:[(0,i.Y)(O,{orgId:"Org"===t.__typename?t.id:void 0,canEditUsageLimit:"success"===d.status&&d.canEditUsageLimit,onIncreaseBudget:function(){return h(!0)}}),(0,i.Y)($.a,{isOpen:m,onRequestClose:function(){return h(!1)},children:(0,i.Y)(et.j,{org:"success"===d.status?d.org:void 0,initialSettings:"success"===d.status?d.usageBasedBillingAlerts:void 0,onDone:function(){return h(!1)}})})]}):n===Q.F.FreeAgentUsageQuotaExceeded?(0,i.FD)(b.S,{gap:8,align:"center",children:[(0,i.FD)(v.EY,{color:"dimmer",children:["You've reached your ",u.Lm," usage limit"]}),(0,i.Y)(en.A,{context:"agent_freemium_quota",colorway:"primary",variant:"outlined",highlightUpsell:"agent",text:"Upgrade to ".concat(u.en," to continue using ").concat(l.g$)})]}):n===Q.F.ErrorDeterminingBudget?(0,i.Y)(b.S,{children:(0,i.Y)(b.S,{children:(0,i.Y)(f.N,{colorway:"red",text:"Error determining remaining budget. Please try again later."})})}):n===Q.F.AgentKillswitch?(0,i.Y)(b.S,{children:(0,i.Y)(f.N,{colorway:"red",text:"This feature is currently unavailable. Please try again later."})}):n===Q.F.PaymentDelinquent?(0,i.Y)(G,{context:"Org"===t.__typename?{type:"org",orgId:t.id,isAdmin:A===s.v7i.SystemAdmins,canEditPaymentMethod:A===s.v7i.SystemAdmins,isSuspended:!1,orgDealContext:y}:{type:"user",isSuspended:!1}}):n===Q.F.FreeReplLimitExceeded?(0,i.FD)(b.S,{gap:12,align:"center",children:[(0,i.Y)(ei.A,{size:32}),(0,i.Y)(v.EY,{variant:"subheadDefault",children:"You've hit your limit of free Apps"}),(0,i.Y)(en.A,{context:"repl_limit_upsell",colorway:"primary",variant:"default",highlightUpsell:"replLimit",text:"Upgrade to ".concat(u.en," for unlimited Apps")})]}):n===Q.F.EmailVerificationRequired?(0,i.Y)(X.A,{onEmailVerified:function(){S.reload()}}):n===Q.F.FreemiumTemporarilyUnavailable?(0,i.FD)(b.S,{gap:12,align:"center",children:[(0,i.FD)(v.EY,{variant:"subheadDefault",children:[l.g$," is currently experiencing high demand and is temporarily unavailable for ",u.Lm," plan users."]}),(0,i.FD)(v.EY,{children:["Please try again later, or upgrade to ",u.en," for immediate access."]}),(0,i.Y)(en.A,{context:"agent_freemium_quota",colorway:"primary",variant:"default",highlightUpsell:"agent",text:"Upgrade to ".concat(u.en," to continue using ").concat(l.g$)})]}):n===Q.F.NoReplCreationPermissions?(0,i.Y)(_,{owner:t,currentUserId:p}):n===Q.F.UserUBBBanned?(0,i.Y)(G,{context:"Org"===t.__typename?{type:"org",orgId:t.id,isAdmin:A===s.v7i.SystemAdmins,canEditPaymentMethod:t.authorizations.editPaymentMethod.isAuthorized,isSuspended:!0,orgDealContext:y}:{type:"user",isSuspended:!0}}):n===Q.F.RequiresPaymentMethod?(0,i.Y)(er.A,{owner:"Org"===t.__typename?{type:"org",slug:t.slug}:void 0}):void(0,c.A)(n)}},92026:(e,n,t)=>{"use strict";t.d(n,{u9:()=>p,Pz:()=>d});var r=t(29935),i=t(82643),a=t(53847),o=function(e){var n=e.dbName,t=e.version,o=e.onUpgrade;return(0,r._)(function(){return(0,i.YH)(this,function(e){return[2,new Promise(function(e,r){var i=indexedDB.open(n,t);i.onerror=function(){var e;return r(Error("Failed to open database: ".concat(null==(e=i.error)?void 0:e.message)))},i.onsuccess=function(){return e(i.result)},o&&(i.onupgradeneeded=function(e){var n=e.target;(0,a._)(n,IDBOpenDBRequest)&&n.result?o(n.result):r(Error("Invalid target during upgrade."))})})]})})()},s=function(e){var n=e.db,t=e.storeName,a=e.mode,o=e.operation;return(0,r._)(function(){return(0,i.YH)(this,function(e){return[2,new Promise(function(e,r){if(!n.objectStoreNames.contains(t))return r(Error('Object store "'.concat(t,'" does not exist in the database.')));var i=n.transaction([t],a),s=o(i.objectStore(t));s.onsuccess=function(){return e(s.result)},s.onerror=function(){var e;return r(Error("Transaction error: ".concat(null==(e=s.error)?void 0:e.message)))},i.onabort=function(){return r(Error("Transaction was aborted."))},i.onerror=function(){return r(Error("Transaction encountered an error."))}})]})})()},l="LandingPageAgentAttachments",c=null,u=function(){return(0,r._)(function(){return(0,i.YH)(this,function(e){return c?[2,c]:[2,c=o({dbName:"ReplitAgentAttachments",version:1,onUpgrade:function(e){e.objectStoreNames.contains(l)||e.createObjectStore(l,{keyPath:"id",autoIncrement:!0})}})]})})()},d=function(){return(0,r._)(function(){return(0,i.YH)(this,function(e){switch(e.label){case 0:return[4,u()];case 1:var n;return[2,s({db:(n={db:e.sent(),storeName:l}).db,storeName:n.storeName,mode:"readonly",operation:function(e){return e.getAll()}})]}})})()},p=function(){return(0,r._)(function(){return(0,i.YH)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(0,r._)(function(){return(0,i.YH)(this,function(e){switch(e.label){case 0:return[4,u()];case 1:var n;return[2,s({db:(n={db:e.sent(),storeName:l}).db,storeName:n.storeName,mode:"readwrite",operation:function(e){return e.clear()}})]}})})()];case 1:return e.sent(),[3,3];case 2:return e.sent(),[2];case 3:return[2]}})})()}},98597:(e,n,t)=>{"use strict";t.d(n,{A:()=>e9});var r,i=t(83846),a=t(12694),o=t(86105),s=t(57034),l=t(21462),c=t(66340),u=t(16583),d=t(68154),p=t(49069),g=t(89433),m=new g.k(function(e){var n=e.onFirstEdit;return p.sU.define({create:function(){return!1},update:function(e,t){return e||!t.docChanged||void 0===t.annotation(p.ZX.userEvent)?e:(null==n||n(),!0)}})}),h=t(39072),f=t(75252),v=t(27440),w=t(86055),b=t(20744),A=t(37774),y=t(1614),_=t(31142),S=t(84885),Y=t(35547),U=t(17421),x=t(90596),B=t(8084),k=t(77484),I=t(61592),E=t(29935),C=t(82643),D=t(67807),R=t(5942),T=t(41379),F=t(85743),P=t(68976),O=t(29351),L=t(74613);function W(e){var n,t,r=(n=({view:e.view}).view,t=(0,D.dI)(),{onUndo:function(e){null==n||n.dispatch({changes:{from:0,to:n.state.doc.length,insert:e}})},onEnhance:function(){return(0,E._)(function(){var e,r,i,a;return(0,C.YH)(this,function(o){switch(o.label){case 0:return r=null!=(e=null==n?void 0:n.state.doc.toString())?e:"",[4,t.enhancePrompt(r)];case 1:if(!(i=o.sent()).ok||!(a=i.payload))throw Error("Failed to generate prompt");return null==n||n.dispatch({changes:{from:0,to:n.state.doc.length,insert:a.trimStart().trimEnd()}}),(0,R.u4)(R.AZ.AI_ENHANCE_PROMPT_USED,{action:"prompt_enhanced",originalPrompt:r,generatedPrompt:a}),[2,r]}})})()}}),i=r.onUndo,o=r.onEnhance,c=(0,a._)((0,l.useState)(null),2),u=c[0],d=c[1],p=(0,a._)((0,l.useState)({type:"waiting"}),2),g=p[0],m=p[1];return(0,s.FD)(F.S,{row:!0,gap:4,align:"center",children:[null!==u?(0,s.Y)(T.K0,{alt:"Undo",disabled:e.loading,onClick:function(){d(null),i(u)},children:(0,s.Y)(L.A,{})}):null,(0,s.Y)(T.K0,{alt:"Improve prompt",tooltipContents:"Improve prompt",disabled:e.isDisabled||"waiting"!==g.type,onClick:function(){m({type:"generating"}),o().then(function(e){return d(e)}).finally(function(){return m({type:"waiting"})})},children:(0,s.Y)(function(){return"generating"===g.type?(0,s.Y)(O.A,{}):(0,s.Y)(P.A,{})},{})})]})}var N=t(65736),M=t(17015),z=t(69799),q=t(5125),H=t(12928),K=t(8045),$=t(33382),J=t(12352),V=t(2266),j=t(1956),Z=t(8212),G=t(66309),Q=t(33669),X=t(83625),ee=t(98892),en=t(59737),et=t(17844),er=t(12584),ei=t(41114),ea=t(54744),eo=t(39590);function es(){var e=(0,er._)(["\n  query UserAppThemes {\n    appThemes {\n      id\n      name\n    }\n  }\n"]);return es=function(){return e},e}function el(){var e=(0,er._)(["\n  mutation CreateAppTheme($input: CreateAppThemeInput!) {\n    createAppTheme(input: $input) {\n      ... on AppTheme {\n        id\n        name\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return el=function(){return e},e}var ec={},eu=(0,ei.J1)(es()),ed=(0,ei.J1)(el()),ep=t(41545),eg=t(23107),em=t(56185),eh=t(74251),ef=t(79890),ev=t(92152),ew=t(78146),eb=t(84516),eA=t(69606),ey=t(24735),e_=t(19789),eS=t(60421),eY=t(36967),eU=t(38386),ex=t(84634),eB=t(41805),ek=t(69481),eI=t.n(ek);function eE(e){var n,t,r=e.selectedThemeId,i=e.selectedStack,o=e.onChange,c=(0,eh.a)(),u=(0,a._)((0,l.useState)(r),2),d=u[0],p=u[1],g=(0,a._)((0,l.useState)(!1),2),m=g[0],h=g[1],f=(0,S.A)().showError,v=(0,ep.ET)().orgId,w=(0,eg._P)({controlName:"flag-app-themes"}),b=(0,em.W)("",function(e){return e.trim()?null:{message:"Theme name is required"}}),A=(n=(0,et._)({},ec,void 0),ea.I(eu,n)),y=A.data,_=A.refetch,Y=(0,a._)((t=(0,et._)({},ec,void 0),eo.n(ed,t)),2),U=Y[0],x=Y[1].loading,B=(null==y?void 0:y.appThemes)||[],k=B.find(function(e){return e.id===d});return w&&void 0===v&&"Modern web app"===i?(0,s.FD)(F.S,{clsx:eI().root,grow:!0,shrink:!0,children:[(0,s.FD)(Q.l6,{selectedKey:d,onOpenChange:function(e){h(e),e&&(0,R.u4)(R.AZ.START_WITH_AI_USED,{action:"app_theme_select_opened"})},onSelectionChange:function(e){var n=String(e);p(n),null==o||o(n)},children:[(0,s.Y)("label",{clsx:eI().label,htmlFor:"app-theme-select",children:"App theme"}),(0,s.FD)(X.$,{id:"app-theme-select",clsx:eI().selectButton,children:[(0,s.Y)(ex.A,{}),c?null:(0,s.FD)(F.S,{clsx:eI().chevronWrapper,children:[(0,s.Y)("span",{children:d&&k?k.name:"Your themes"}),(0,s.Y)(eU.A,{size:12,rotate:180*!!m})]})]}),(0,s.Y)(ee.A,{placement:c?"top":void 0,children:(0,s.FD)(e_.ui,{clsx:eI().popoverSurface,p:4,elevated:!0,children:[c?null:(0,s.Y)(F.S,{pb:6,pl:4,children:(0,s.Y)(eS.EY,{variant:"small",color:"dimmer",clsx:eI().bold,children:"App theme"})}),(0,s.FD)(en.qF,{"aria-label":"App theme",selectionMode:"single",children:[B.map(function(e){return(0,s.Y)(en.nh,{id:e.id,"aria-label":e.name,children:(0,s.Y)(eC,{title:e.name,isSelected:d===e.id})},e.id)}),(0,s.Y)(en.nh,{id:"create","aria-label":"Create new theme",children:(0,s.Y)(F.S,{clsx:eI().createItem,children:(0,s.FD)(F.S,{row:!0,align:"center",gap:8,clsx:eI().itemContent,children:[(0,s.Y)(eB.A,{}),(0,s.Y)(eS.EY,{children:"Create new theme"})]})})},"create")]})]})})]}),(0,s.Y)(ey.a,{isOpen:"create"===d,onRequestClose:function(){p(void 0),b.setValue("")},children:(0,s.Y)(ew.lV,{onSubmit:function(e){return(0,E._)(function(){return(0,C.YH)(this,function(n){switch(n.label){case 0:if(e.preventDefault(),!b.isValid||!b.value.trim())return[2];return[4,U({variables:{input:{name:b.value.trim(),schema:{}}},onCompleted:function(e){return(0,E._)(function(){var n;return(0,C.YH)(this,function(t){switch(t.label){case 0:if("UserError"===e.createAppTheme.__typename)return f(e.createAppTheme.message),[2];if("AppTheme"!==e.createAppTheme.__typename)return f("Something went wrong while creating your theme. Please try again."),[2];return p((n=e.createAppTheme).id),o(n.id),b.setValue(""),[4,_()];case 1:return t.sent(),(0,R.u4)(R.AZ.START_WITH_AI_USED,{action:"app_theme_created",themeName:n.name}),[2]}})})()},onError:function(e){f(e.message)}})];case 1:return n.sent(),[2]}})})()},children:(0,s.FD)(F.S,{gap:8,children:[(0,s.Y)(eS.EY,{variant:"subheadBig",children:"Create new theme"}),(0,s.Y)(eS.EY,{children:"App themes maintain consistent styling across your apps."}),(0,s.FD)(F.S,{pt:8,gap:4,children:[(0,s.Y)(eA.J,{color:"dimmer",children:"Theme name"}),(0,s.Y)(eb.pd,{placeholder:"Design Tokens",value:b.value,onChange:function(e){return b.setValue(e.target.value)},onBlur:b.handleBlur})]}),(0,s.FD)(F.S,{pt:12,clsx:eI().buttons,row:!0,justify:"end",gap:8,children:[(0,s.Y)(ev.$n,{text:"Cancel",type:"button",onClick:function(){p(void 0),b.setValue("")}}),(0,s.Y)(ev.$n,{colorway:"primary",iconLeft:(0,s.Y)(eY.A,{}),text:"Save and use theme",type:"submit",disabled:!b.value.trim()||x,loading:x})]})]})})})]}):null}var eC=function(e){var n=e.title,t=e.isSelected;return(0,s.FD)(F.S,{clsx:[eI().item,(0,i._)({},eI().itemSelected,t)],children:[(0,s.Y)(F.S,{clsx:eI().itemContent,children:(0,s.Y)(eS.EY,{children:n})}),t?(0,s.Y)(eY.A,{color:ef.LU.greenStrongest}):null]})};function eD(){var e=(0,er._)(["\n  fragment OrgStackTemplate on Repl {\n    id\n    title\n    description\n    iconUrl\n  }\n"]);return eD=function(){return e},e}function eR(){var e=(0,er._)(["\n  query OrgStackTemplates($orgId: String) {\n    currentUser {\n      id\n      isExplorer: hasRole(role: EXPLORER)\n      org(orgId: $orgId) {\n        __typename\n        ... on Org {\n          id\n          stackTemplates {\n            ...OrgStackTemplate\n          }\n        }\n        ... on Error {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return eR=function(){return e},e}var eT={},eF=(0,ei.J1)(eD()),eP=(0,ei.J1)(eR(),eF),eO=t(73327),eL=t(63432),eW=t(32222),eN=t(26522);function eM(e){var n=e.isOpen,t=e.onRequestClose,r=e.onConfirm;return(0,s.Y)(ey.a,{isOpen:n,onRequestClose:t,children:(0,s.FD)(F.S,{gap:24,children:[(0,s.Y)(eS.Y9,{variant:"headerDefault",level:2,children:"Custom Template"}),(0,s.FD)(F.S,{gap:16,children:[(0,s.Y)(eS.EY,{children:"Select an app to use as a custom stack. This app will be used as the starting point for the agent."}),(0,s.FD)(F.S,{gap:4,children:[(0,s.Y)(eA.J,{children:"Template"}),(0,s.Y)(eN.A,{onSelect:function(e){r(e.id),t()},disabled:!1,excludePrivate:!1,selectedIconOverride:(0,s.Y)(s.FK,{})})]})]})]})})}var ez=t(18304),eq=t(83020),eH=t(83033),eK=t(16591),e$=t(75109),eJ=(0,ez.x)({root:[eq.wp.color.foregroundDimmer],label:[eq.wp.visuallyHidden],selectButton:[eq.wp.reset.button,eq.wp.borderRadius("default"),eq.wp.flex.row,eq.wp.rowWithGap(4),eq.wp.cursor.pointer,eq.wp.align.center,eq.wp.px(6),eq.wp.py(4),eq.wp.color.foregroundDimmer,eq.wp.fontSize(12),{'&[aria-expanded="true"] .chevron':{transform:"rotate(180deg)"},"&:hover":[eq.wp.color.foregroundDefault,eq.wp.backgroundColor.backgroundHigher]}],pooverSurface:[eq.wp.borderRadius(4),eq.wp.border({color:ef.LU.outlineDimmest})],bold:[eq.wp.fontWeight.bold]}),eV=(0,ez.x)({root:[eq.wp.px(8),eq.wp.py(6),eq.wp.rowWithGap(8),eq.wp.align.start,eq.wp.justify.spaceBetween,eq.wp.cursor.pointer,eq.wp.hover({backgroundColor:ef.LU.backgroundHighest}),eq.wp.borderRadius("default")]}),ej=(0,ez.x)({root:eV.root,rootSelected:[eV.root,eq.wp.backgroundColor.backgroundHigher]}),eZ={Auto:{icon:(0,s.Y)(e$.A,{}),description:"".concat(u.g$," will choose for you")},"Modern web app":(0,et._)({icon:null},u.Wu[eO.qf8.STACK_BLUEPRINT_FULLSTACK_JS]),"Interactive data app":(0,et._)({icon:null},u.Wu[eO.qf8.STACK_BLUEPRINT_STREAMLIT]),"3D game":(0,et._)({icon:null},u.Wu[eO.qf8.STACK_BLUEPRINT_GAMESTACK_JS]),"Web app (Python)":(0,et._)({icon:null},u.Wu[eO.qf8.STACK_BLUEPRINT_FLASK_VANILLA_JS]),"Custom Stack":{icon:null,description:"Use Agent without guardrails"},"Agents and Workflows":(0,et._)({icon:null},u.Wu[eO.qf8.STACK_BLUEPRINT_AGENT])};function eG(e){var n,t,r,i,o=e.selectedOption,c=e.customStackReplId,u=e.onChange,d=(0,ep.ET)().orgId,p=(0,eh.a)(),g=(0,eg._P)({controlName:"flag-custom-stack-repls"}),m=(0,eL.o)({controlName:"flag-org-stack-templates"}),h=(0,eL.o)({controlName:"flag-autoselect-customstack"}),f=(0,eg._P)({controlName:"flag-agent-everywhere"}),v=(0,eg._P)({controlName:"flag-recursive-robotonometry"}),w=(n={variables:{orgId:d},skip:!d||!m},t=(0,et._)({},eT,n),ea.I(eP,t)).data,b=(null==w||null==(i=w.currentUser)||null==(r=i.org)?void 0:r.__typename)==="Org"?w.currentUser.org.stackTemplates:void 0,A=(0,a._)((0,l.useState)(!1),2),y=A[0],S=A[1],Y=(0,_.A)(u);return(0,l.useEffect)(function(){var e;m&&h&&b&&b.length>0&&"Auto"===o&&(null==w||null==(e=w.currentUser)?void 0:e.isExplorer)&&Y.current("OrgStackTemplate",b[0].id)},[m,h,b,Y]),(0,s.FD)(F.S,{css:eJ.root,grow:!0,shrink:!0,children:[(0,s.FD)(Q.l6,{selectedKey:o,onOpenChange:function(e){e&&(0,R.u4)(R.AZ.START_WITH_AI_USED,{action:"stack_select_opened"})},onSelectionChange:function(e){var n,t=String(e);((0,R.u4)(R.AZ.START_WITH_AI_USED,{action:"stack_selected",previousStack:o,newStack:t}),t in eZ)?u(t):"Stack from existing App"===t?S(!0):null!=(n=null==b?void 0:b.some(function(e){return e.id===t}))&&n?u("OrgStackTemplate",t):u("Auto")},children:[(0,s.Y)(eA.J,{css:eJ.label,children:"App type"}),(0,s.FD)(X.$,{css:eJ.selectButton,children:[(0,s.Y)(eK.A,{}),p?null:(0,s.FD)(F.S,{row:!0,gap:2,pl:2,align:"center",children:[(0,s.Y)("span",{children:function(e){if("OrgStackTemplate"===e){var n,t;return null!=(t=null==b||null==(n=b.find(function(e){return e.id===c}))?void 0:n.title)?t:"Stack from existing App"}return e}(o)}),(0,s.Y)(eU.A,{size:12,className:"chevron"})]})]}),(0,s.Y)(ee.A,{placement:p?"top":void 0,children:(0,s.FD)(e_.ui,{css:eJ.pooverSurface,p:4,elevated:!0,children:[p?null:(0,s.Y)(F.S,{pb:6,pl:4,children:(0,s.Y)(eS.EY,{variant:"small",color:"dimmer",css:eJ.bold,children:"App type"})}),(0,s.FD)(en.qF,{"aria-label":"App type",selectionMode:"single",children:[Object.entries(eZ).filter(function(e){var n=(0,a._)(e,1)[0];return("Custom Stack"!==n||!!f)&&("Agents and Workflows"!==n||!!v)}).map(function(e){var n=(0,a._)(e,2),t=n[0],r=n[1],i=r.icon,l=r.description;return(0,s.Y)(en.nh,{id:t,"aria-label":t,children:(0,s.Y)(eQ,{title:t,isSelected:o===t,icon:i,description:l})},t)}),m&&b&&b.length>0?(0,s.Y)(s.FK,{children:b.map(function(e){var n;return(0,s.Y)(en.nh,{id:e.id,"aria-label":e.title,children:(0,s.Y)(eQ,{title:e.title,isSelected:c===e.id,icon:(0,s.Y)(eH.a,{text:"Beta",colorway:"primary",compact:!0}),description:null!=(n=e.description)?n:""})},e.id)})}):null,g?(0,s.Y)(en.nh,{id:"Stack from existing App","aria-label":"Stack from existing App",children:(0,s.Y)(eQ,{title:"Stack from existing App",isSelected:"Stack from existing App"===o,icon:(0,s.Y)(eW._,{}),description:"Use your own repl as a template"})},"Stack from existing App"):null]})]})})]}),(0,s.Y)(eM,{isOpen:y,onRequestClose:function(){return S(!1)},onConfirm:function(e){u("Stack from existing App",e),S(!1)}})]})}function eQ(e){var n=e.title,t=e.isSelected,r=e.icon,i=e.description;return(0,s.FD)(F.S,{css:t?ej.rootSelected:ej.root,children:[(0,s.FD)(F.S,{grow:!0,pr:24,children:[(0,s.FD)(F.S,{row:!0,gap:6,align:"center",children:[(0,s.Y)(eS.EY,{children:n}),r?(0,s.Y)(F.S,{children:r}):null]}),(0,s.Y)(F.S,{row:!0,gap:4,align:"center",children:(0,s.Y)(eS.EY,{variant:"small",color:"dimmer",children:i})})]}),t?(0,s.Y)(eY.A,{color:ef.LU.greenStrongest}):null]})}var eX=t(42793),e0=t(17376),e1=t(3588),e2=t(97877),e4=(0,e1.v)(["hoverBorderColor","focusedBorderColor"]),e5=e4.cssVars,e7=e4.styleTokens,e3=(0,eX.i7)({from:{opacity:0},to:{opacity:1}}),e8=(0,ez.x)({wrapper:[eq.wp.position.relative,eq.wp.minHeight("fit-content"),{display:"grid",gridTemplate:"1fr / 1fr","& > *":{gridArea:"1 / 1"}}],surface:[e0.b.filledAndOutlined,eq.wp.borderRadius(6),eq.wp.flex.growAndShrink(1),eq.wp.p(4),{rowGap:ef.LU.space4,display:"flex",flexDirection:"column","&[disabled], &[aria-disabled]":{"& .cm-editor":{opacity:.5}},"@media (hover: hover)":{":not([disabled], [aria-disabled])":{cursor:"text"}},"&:hover:not([disabled], [aria-disabled]):hover":{borderColor:e7.hoverBorderColor},"&:focus-within:not([disabled], [aria-disabled])":{borderColor:e7.focusedBorderColor}}],codemirror:[eq.wp.display.flex,eq.wp.flex.grow(1),eq.wp.overflow("auto"),eq.wp.maxHeight(300),{"& .cm-editor":[eq.wp.flex.grow(1)]}],attachments:[eq.wp.px(4),eq.wp.py(6)],primaryButtonGroup:[eq.wp.height(32)],submitButton:[eq.wp.borderRadius()],overlayBackground:[eq.wp.borderRadius(4),eq.wp.minHeight("100%"),eq.wp.height("fit-content"),{backgroundColor:ef.LU.backgroundDefault,zIndex:1,display:"flex",flexDirection:"column",animation:"".concat(e3," 300ms ease-in-out")}],overlayContent:[eq.wp.display.flex,eq.wp.flex.column,eq.wp.align.center,eq.wp.justify.center,eq.wp.p(24),eq.wp.height("100%"),eq.wp.flex.grow(1),{pointerEvents:"auto"}]}),e6=d.Lz.theme((r={"&":{flexGrow:1},"& .cm-content":{fontFamily:ef.LU.fontFamilyDefault}},(0,i._)(r,"& .".concat(A.Fb),{display:"none"}),(0,i._)(r,"& .cm-cursor",{borderLeftColor:ef.LU.foregroundDefault,borderLeftWidth:"1px"}),r));function e9(e){var n,t,r,d,p=(0,b.A)(),g=p.ref,A=p.view,E=(0,c.wR)(),C=(0,U.m5)(),D=null!=(n=e.status)?n:"composing",R=(0,v.Vn)(A,G.Im),T=(0,S.A)().showError,P=(0,G.hk)({text:null!=(t=e.placeholderText)?t:"Message Agent…"}),O=Z.bZ.use(2e3),L=(0,a._)((0,l.useState)("Auto"),2),Q=L[0],X=L[1],ee=(0,a._)((0,l.useState)(),2),en=ee[0],et=ee[1],er=(0,a._)((0,l.useState)(),2),ei=er[0],ea=er[1],eo=(0,z.j)(e.persistenceKey,A),es=eo.persistPromptDraftCompartment,el=eo.clearPersistedPromptDraft,ec=(0,H.e)(),eu=(0,V.s)(),ed=eu.attachments,ep=eu.urlAttachments,eg=eu.removeAttachment,em=eu.addAttachments,eh=eu.addUrlAttachment,ev=eu.removeUrlAttachment,ew=eu.clearAttachments,eb=eu.isLoading,eA=null!=(r=(0,v.Vn)(A,M.Wd))?r:[],ey=(0,l.useCallback)(function(e){A&&A.dispatch(A.state.update({changes:{from:0,to:A.state.doc.length,insert:e}}))},[A]),eS=(0,j.A)({addAttachments:em}),eY=eS.isDraggedOver,eU=eS.drop,ex=(0,y.Rj)(function(){return ed.map(function(e){return e.length>0})},[ed]),eB=(0,y.J2)(eb,!1),ek=R&&!ex&&"composing"===D||"loading"===D||e.isSubmitDisabled||!!e.disabled||eB,eI=e.submitDisabledReason;eB?eI="Please wait for files to finish uploading":R&&!ex&&"composing"===D&&(eI="Enter a message or attach a file");var eC=e.onUpsell,eD=e.onSubmit,eR=e.disableClearOnSubmit,eT=(0,l.useCallback)(function(){if("loading"!==D){if(ek||!A){e.isSubmitDisabled&&eC&&eC();return}var n=A.state.doc.toString();el(),eD(n,(0,o._)(ed.current).concat((0,o._)(ep.current.map(function(e){return e.file}))),(0,u.FK)(Q),en,"Custom Stack"===Q),eR||(ew(),A.dispatch({effects:M.Ff.of(null)}),A.dispatch({changes:{from:0,to:A.state.doc.length}}))}},[ek,eC,A,el,e.isSubmitDisabled,eD,ed,eR,ew,ep,Q,D,en]),eF=(0,_.A)(eT),eP=ne.use({onSubmit:(0,l.useCallback)(function(){return eF.current()},[eF])}),eO=(0,q.F)({view:A,setPromptEditor:e.inputRef}),eL=N.U.use({addAttachments:em,onAutoAttachedLargePaste:function(e){(0,J.pI)({action:"auto_attached_large_paste",fileSize:e})}}),eW=m.use({onFirstEdit:function(){var n;null==(n=e.onFirstEdit)||n.call(e)}}),eN=(0,Y.S)([eU,eO],{breadcrumb:"client/workspace/components/Agent/Chat/InputBox/index.tsx:448"}),eM=(0,y.J2)(ed);return(0,s.FD)(F.S,{css:e8.wrapper,children:[(0,s.FD)(e_.ui,{css:e8.surface,innerRef:eN,gap:4,style:(d={borderColor:eY?ef.LU.accentPrimaryDefault:ef.LU.outlineDimmer},(0,i._)(d,e5.focusedBorderColor,ef.LU.accentPrimaryDefault),(0,i._)(d,e5.hoverBorderColor,ef.LU.accentPrimaryDefault),d),"aria-hidden":!e.overlay,"aria-disabled":!!e.disabled||void 0,inert:e.overlay?"true":void 0,onClick:function(e){e.target===e.currentTarget&&(null==A||A.focus())},children:[(0,s.FD)(F.S,{grow:!0,shrink:!0,gap:4,children:[(0,s.Y)(B.A,{css:e8.attachments,detectedUrls:eA.map(function(e){return(0,s.Y)(k.A,{url:e,addUrlAttachment:eh,removeUrlAttachment:ev,onError:T},e)}),fileAttachments:eM.map(function(e){return(0,s.Y)(I.m1,{attachment:e,removeAttachment:eg,getAttachmentTypeDisclaimer:(0,K.F)({aiName:(0,u.Nn)({capitalizeFirstChar:!0})})},e.path)})}),E?(0,s.Y)(F.S,{style:{minHeight:e.minHeight?"".concat(e.minHeight,"px"):void 0}}):(0,s.Y)(w.A,{"data-chromatic":"ignore",ref:g,css:e8.codemirror,style:{minHeight:e.minHeight?"".concat(e.minHeight,"px"):void 0,maxHeight:e.maxHeight?e.maxHeight:void 0},fontSize:14,readOnly:e.disabled,extensions:[e6,eP,eL,P,Z.tP,O,es,f.r,h.N,eW,ec?[]:M.fd],id:"ai-prompt-input","data-cy":"ai-prompt-input"})]}),(0,s.FD)(F.S,{row:!0,gap:4,css:e8.primaryButtonGroup,px:2,pb:2,justify:"space-between",align:"end",onClick:function(e){e.target===e.currentTarget&&(null==A||A.focus())},children:[(0,s.FD)(F.S,{row:!0,gap:C?12:4,align:"center",children:[(0,s.Y)(e_.ui,{elevated:!0,children:(0,s.Y)(x.e,{disabled:e.disabled,status:D,addAttachments:em})}),(0,s.Y)($.A,{getCurrentText:function(){var e;return null!=(e=null==A?void 0:A.state.doc.toString())?e:""},onUpdateText:ey}),(0,s.Y)(eG,{selectedOption:Q,customStackReplId:en,onChange:function(e,n){X(e),et(n)}}),(0,s.Y)(eE,{selectedThemeId:ei,selectedStack:Q,onChange:ea})]}),(0,s.FD)(F.S,{align:"center",row:!0,gap:8,children:[A?(0,s.Y)(e_.ui,{elevated:!0,children:(0,s.Y)(W,{isDisabled:e.disabled||null==R||R,view:A})}):null,(0,s.Y)(e_.ui,{elevated:!0,css:e8.submitButton,children:(0,s.Y)(e2.m_,{isDisabled:!eI,tooltip:eI,children:e.renderSubmitButton({onSubmit:eT,disabled:ek})})})]})]})]}),e.overlay?(0,s.Y)(F.S,{css:e8.overlayBackground,children:(0,s.Y)(F.S,{css:e8.overlayContent,children:e.overlay})}):null]})}var ne=new g.k(function(e){var n=e.onSubmit,t=e.preventSubmitOnEnter;return d.Lz.domEventHandlers({keydown:function(e){!t&&("Enter"===e.key&&e.metaKey&&e.stopPropagation(),"Enter"!==e.key||e.shiftKey||(e.preventDefault(),n()))}})})}}]);
//# sourceMappingURL=9971-adcbed3a002aa32f.js.map